<div class="clr-row diagram-layout">
	<div class="clr-col-12 diagram-layout-content" #diagramLayoutContent>
		<div id="diagram-container"
				 class="diagram-container"
         #diagramContainer>
		</div>

		<tds-context-menu
			[data]="ctxMenuData$ | async"
			(actionDispatched)="onCtxMenuActionDispatched($event)"
      #tdsCtxMenu></tds-context-menu>

		<div id="graph-control-btn-group" *ngIf="!hideControlButtons">
			<button
				class="btn tooltip tooltip-md tooltip-top-left graph-control-btn"
				role="tooltip"
				aria-haspopup="true"
				[style.textAlign]="'center'"
				*ngIf="false">
				<fa-icon [icon]="faIcons.faCog" size="lg"></fa-icon>
				<span class="tooltip-content">Configuration</span>
			</button>
			<button
				class="btn tooltip tooltip-md tooltip-top-left graph-control-btn"
				*ngIf="(data?.extras && data?.extras?.isExpandable) || !data?.nodeTemplate?.isTreeExpanded"
				(click)="expand = !expand; expandAll()"
				role="tooltip"
				aria-haspopup="true"
				[style.textAlign]="'center'">
					<fa-icon [icon]="faIcons.faArrowsAltV" size="lg"></fa-icon>
					<span class="tooltip-content">Expand/Collapse all toggle</span>
			</button>
			<button
				class="btn tooltip tooltip-xs tooltip-top-left graph-control-btn"
				(click)="zoomIn()"
				role="tooltip"
				aria-haspopup="true"
				[style.textAlign]="'center'">
				<fa-icon [icon]="faIcons.faSearchPlus" size="lg"></fa-icon>
				<span class="tooltip-content">Zoom In</span>
			</button>
			<button
				class="btn tooltip tooltip-xs tooltip-top-left graph-control-btn"
				(click)="zoomOut()"
				role="tooltip"
				aria-haspopup="true"
				[style.textAlign]="'center'">
				<fa-icon [icon]="faIcons.faSearchMinus" size="lg"></fa-icon>
				<span class="tooltip-content">Zoom Out</span>
			</button>
		</div>

		<div
			id="overview-container"
			class="overview-container"
			[class.reset-overview-index]="resetOvIndex"
			*ngIf="!hideOverview"
      #overviewContainer></div>

		<div id="node-tooltip" class="card diagram-card" (mouseleave)="hideToolTip()" #nodeTooltip>
			<div class="card-header clr-align-self-center"
				 [style.background]="tooltipData?.headerBackgroundColor"
				 [style.color]="tooltipData?.headerTextColor">
				 {{tooltipData?.headerText}}
			</div>

			<div class="card-block" *ngIf="tooltipData && tooltipData.data">
				<div class="card-text" style="text-align: center;">
					<div class="clr-row" *ngFor="let data of tooltipData.data">
						<div class="clr-col-6 clr-align-self-center tooltip-data-label">{{data?.label}}: </div>
						<div class="clr-col-6 clr-align-self-center tooltip-data-value">
							<fa-icon [icon]="faIcons[data.icon]" [size]="'xs'" *ngIf="data.icon"></fa-icon>
							{{data?.value}}
						</div>
					</div>
				</div>
			</div>
		</div>

		<button id="show-full-graph" *ngIf="showFullGraphBtn" (click)="showFullGraph()">Back to Full Graph</button>
		<div
			id="full-view"
			class="full-view"
			*ngIf="!hideExpand">
			<fa-icon *ngIf="!hideExpand" [icon]="faIcons.faExpand" size="lg" (click)="expandClicked()"></fa-icon>
		</div>
	</div>
</div>
